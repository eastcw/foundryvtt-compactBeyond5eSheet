<div class="traits">
  <div class="form-group {{#unless system.attributes.exhaustion}}inactive{{/unless}}">
    <label>{{localize "DND5E.Exhaustion"}}</label>
    <input type="text" name="system.attributes.exhaustion" {{#if options.locked}}class="locked"{{/if}} data-dtype="Number" placeholder="0"
      value="{{system.attributes.exhaustion}}" />
  </div>

  <div class="form-group">
    <label>{{localize "DND5E.Size"}}</label>
    <select class="actor-size" name="system.traits.size">
      {{selectOptions config.actorSizes selected=system.traits.size labelAttr="label"}}
    </select>
  </div>

  {{#*inline 'possiblyNoneList'}}
  {{#if (cb5es-isEmpty list)}}
  <em>{{localize "DND5E.None"}}</em>
  {{else}}
  <ul class="traits-list">
    {{#each list as |v k|}}
    <li class="tag {{k}}">{{v}}</li>
    {{/each}}
  </ul>
  {{/if}}
  {{/inline}}

  <div class="form-group {{#if (cb5es-isEmpty senses)}}inactive{{/if}}">
    <label>{{localize "DND5E.Senses"}}</label>
    <a class="config-button" data-action="senses" data-tooltip="{{localize 'DND5E.SensesConfig'}}">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=senses}}
  </div>

  <div class="form-group {{traits.traits.languages.cssClass}}">
    <label>{{localize "DND5E.Languages"}}</label>
    <a class="trait-selector" data-trait="languages"
      data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.Languages')}}" tabindex="0">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.languages.selected}}
  </div>

  <div class="form-group {{traits.traits.di.cssClass}}">
    <label>{{localize "DND5E.DamImm"}}</label>
    <a class="trait-selector" data-trait="di" data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.DamImm')}}"
      tabindex="0">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.di.selected}}
  </div>

  <div class="form-group {{traits.traits.dr.cssClass}}">
    <label>{{localize "DND5E.DamRes"}}</label>
    <a class="trait-selector" data-trait="dr" data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.DamRes')}}"
      tabindex="0">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.dr.selected}}
  </div>

  <div class="form-group {{traits.traits.dv.cssClass}}">
    <label>{{localize "DND5E.DamVuln"}}</label>
    <a class="trait-selector" data-trait="dv" data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.DamVuln')}}">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.dv.selected}}
  </div>

  <div class="form-group {{traits.traits.ci.cssClass}}">
    <label>{{localize "DND5E.ConImm"}}</label>
    <a class="trait-selector" data-trait="ci" data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.ConImm')}}">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.ci.selected}}
  </div>

  <div class="form-group {{traits.traits.weaponProf.cssClass}}">
    <label>{{localize "DND5E.TraitWeaponProf"}}</label>
    <a class="trait-selector" data-trait="weapon"
      data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.TraitWeaponProf')}}">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.weaponProf.selected}}
  </div>

  <div class="form-group {{traits.traits.armorProf.cssClass}}">
    <label>{{localize "DND5E.TraitArmorProf"}}</label>
    <a class="trait-selector" data-trait="armor"
      data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.TraitArmorProf')}}">
      <i class="fas fa-edit"></i>
    </a>
    {{> possiblyNoneList list=traits.traits.armorProf.selected}}
  </div>

  <div class="form-group {{traits.traits.toolProf.cssClass}}">
    <label>{{localize "DND5E.TraitToolProf"}}</label>
    <a class="trait-selector" data-trait="tool"
      data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.TraitToolProf')}}">
      <i class="fas fa-edit"></i>
    </a>
    {{#if (cb5es-isEmpty tools)}}
      <em>{{localize "DND5E.None"}}</em>
    {{else}}
      <ul class="traits-list">
        {{#each tools}}
          <li class="tag tool proficiency-row" data-property="tools" data-key="{{@key}}">
            <input type="hidden" name="system.tools.{{@key}}.value" value="{{baseValue}}" data-dtype="Number">
            <input type="hidden" name="system.tools.{{@key}}.ability" value="{{ability}}">
            <a class="proficiency-toggle tool-proficiency" data-tooltip="{{hover}}">{{{icon}}}</a>
            <h4 class="tool-name rollable">{{label}}</h4>
            <a class="config-button" data-action="tool" data-tooltip="DND5E.ToolConfigure">
              <i class="fas fa-cog"></i>
            </a>
          </li>
        {{/each}}
      </ul>
    {{/if}}
  </div>

  <div class="form-group ">
    <label>{{localize "DND5E.SpecialTraits"}}</label>
    <a class="config-button" data-action="flags"
      data-tooltip="{{localize 'DND5E.TraitConfig' trait=(localize 'DND5E.SpecialTraits')}}">
      <i class="fas fa-cog"></i>
    </a>
  </div>
</div>
